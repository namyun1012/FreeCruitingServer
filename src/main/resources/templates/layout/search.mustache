<div class="col-md-6">
    <form id="search-form-post">
        <select id = "search-type-post" name="type" class="form-select">
            <option value="all">통합 검색</option>
            <option value="title">제목</option>
            <option value="content">내용</option>
            <option value="author">작성자</option>
        </select>
        <input type="text" id="search-query-post" name="query" class="form-control" placeholder="검색어 입력">
        <button type="submit" class="btn btn-outline-primary" id="btn-search-post">검색</button>
    </form>
</div>

<script>
    document.getElementById("search-form-post").addEventListener("submit", function(event) {
        event.preventDefault(); // 기본 폼 제출 방지

        let type = document.getElementById("search-type-post").value;
        let query = document.getElementById("search-query-post").value.trim();

        if (query === "") {
            alert("검색어를 입력하세요.");
            return;
        }

        let newURL = `/post/search/${encodeURIComponent(type)}/${encodeURIComponent(query)}`;
        window.location.href = newURL;
    });

</script>